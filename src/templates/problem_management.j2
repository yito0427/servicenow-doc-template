# {{ project_name }} - 問題管理設計書

**バージョン:** {{ version }}  
**作成者:** {{ author.name }}  
**作成日:** {{ created_date | date_format }}  
**ドキュメントタイプ:** 問題管理設計書

---

## 1. 概要

### 1.1 目的
{{ process_overview.purpose }}

### 1.2 スコープ
{{ process_overview.scope }}

### 1.3 目標
{% for objective in process_overview.objectives %}
- {{ objective }}
{% endfor %}

### 1.4 期待される効果
{% for benefit in process_overview.benefits %}
- {{ benefit }}
{% endfor %}

---

## 2. プロセス定義

### 2.1 問題管理プロセスフロー

```
[問題の識別] ← インシデント分析/傾向分析/プロアクティブ監視
　　　↓
[問題レコード作成]
　　　↓
[問題の分類・優先度設定]
　　　↓
[調査・診断] → [根本原因分析（RCA）]
　　　↓
[回避策の特定] → [KEDB登録]
　　　↓
[解決策の開発]
　　　↓
[変更要求（RFC）作成] → 変更管理プロセスへ
　　　↓
[解決の実装・検証]
　　　↓
[問題クローズ]
　　　↓
[ナレッジ共有]
```

### 2.2 問題管理のタイプ

| タイプ | 説明 | トリガー |
|--------|------|----------|
| リアクティブ問題管理 | インシデント発生後の根本原因分析 | 重大インシデント、繰り返しインシデント |
| プロアクティブ問題管理 | インシデント発生前の潜在的問題の特定 | トレンド分析、リスク評価、監視アラート |

### 2.3 プロセス成熟度モデル

| レベル | 特徴 | 目標 |
|--------|------|------|
| レベル1: 初期 | アドホックな問題対応 | プロセスの確立 |
| レベル2: 管理 | 基本的な問題管理プロセス | 標準化と文書化 |
| レベル3: 定義 | 体系的なRCAとKEDB | 予防的対応の開始 |
| レベル4: 定量的管理 | メトリクスベースの改善 | データ駆動の意思決定 |
| レベル5: 最適化 | 継続的改善と自動化 | プロアクティブな問題予防 |

---

## 3. 問題の分類と優先度

### 3.1 問題カテゴリ

{% for category in problem_categories %}
#### {{ category.category }}
- **説明**: {{ category.description }}
- **例**: {{ category.examples | join(', ') }}

{% endfor %}

### 3.2 優先度決定基準

{% if priority_criteria %}
{{ priority_criteria }}
{% else %}
| 基準 | 重み | 評価方法 |
|------|------|----------|
| ビジネス影響 | 40% | 影響を受けるユーザー数、収益への影響 |
| 発生頻度 | 30% | 関連インシデントの発生回数 |
| 解決の緊急性 | 20% | SLA違反リスク、規制要件 |
| リソース要件 | 10% | 解決に必要な工数、コスト |

#### 優先度レベル

| 優先度 | スコア | 説明 | 対応目標 |
|--------|--------|------|----------|
| Critical | 90-100 | ビジネス継続に重大な影響 | 7日以内 |
| High | 70-89 | 主要サービスに影響 | 14日以内 |
| Medium | 40-69 | 限定的な影響 | 30日以内 |
| Low | 0-39 | 最小限の影響 | 90日以内 |
{% endif %}

---

## 4. 根本原因分析（RCA）

### 4.1 RCA方法論

{% for method in rca_methodology.methods %}
#### {{ method.name }}
- **説明**: {{ method.description }}
- **適用場面**: {{ method.use_case }}

{% endfor %}

### 4.2 RCAプロセス

{% for step in rca_methodology.process %}
{{ loop.index }}. {{ step }}
{% endfor %}

### 4.3 RCAテンプレート

```
問題番号: PRB0001234
問題の説明: [問題の概要]

1. 問題の定義
   - 何が起きたか:
   - いつ起きたか:
   - どこで起きたか:
   - 誰が影響を受けたか:
   - どのような影響があったか:

2. データ収集
   - インシデント履歴:
   - システムログ:
   - 設定変更履歴:
   - 関係者インタビュー:

3. 時系列分析
   [イベントのタイムライン]

4. 原因分析
   - 直接原因:
   - 寄与要因:
   - 根本原因:

5. 解決策
   - 短期的対策（回避策）:
   - 長期的対策（恒久対策）:

6. 再発防止策
   - プロセス改善:
   - 予防的措置:
   - モニタリング強化:
```

---

## 5. 既知エラーデータベース（KEDB）

### 5.1 KEDB構造

{% if kedb_structure %}
{{ kedb_structure }}
{% else %}
| フィールド | 説明 | 必須 |
|-----------|------|------|
| エラーID | 一意の識別子 | はい |
| タイトル | エラーの簡潔な説明 | はい |
| 症状 | 観察される現象 | はい |
| 影響を受けるCI | 関連する構成アイテム | はい |
| 根本原因 | 特定された原因 | いいえ |
| 回避策 | 一時的な対処方法 | はい |
| 恒久対策 | 根本的な解決方法 | いいえ |
| 関連問題 | 問題レコードへのリンク | はい |
| 関連インシデント | インシデント番号リスト | はい |
| 作成日 | KEDB登録日 | はい |
| 最終更新日 | 最後の更新日時 | はい |
| 利用回数 | 参照された回数 | はい |
| 有効性評価 | 回避策の効果 | いいえ |
{% endif %}

### 5.2 KEDB管理プロセス

1. **登録基準**
   - 再発の可能性がある問題
   - 効果的な回避策が存在する
   - 複数のインシデントに適用可能

2. **品質管理**
   - 定期的なレビュー（四半期ごと）
   - 有効性の評価と更新
   - 陳腐化したエントリの削除

3. **アクセス管理**
   - 読み取り: 全IT担当者
   - 作成・更新: 問題管理チーム
   - 承認: 問題マネージャー

### 5.3 KEDB活用促進

- インシデント解決時の必須参照
- 関連KEDBの自動提案機能
- 利用統計の可視化
- 優秀なKEDB作成者の表彰

---

## 6. 役割と責任

### 6.1 役割定義

{% if roles_responsibilities %}
{% for role in roles_responsibilities %}
#### {{ role.name }}
- **責任**: {{ role.responsibilities | join(', ') }}
- **権限**: {{ role.authorities | join(', ') }}
- **必要スキル**: {{ role.required_skills | join(', ') }}

{% endfor %}
{% else %}
#### 問題マネージャー
- **責任**:
  - 問題管理プロセスの統括
  - 重大問題の管理とエスカレーション
  - プロセスKPIの監視と報告
  - KEDB品質管理
- **権限**:
  - リソース調整
  - 外部ベンダーへのエスカレーション
  - プロセス改善の承認
- **必要スキル**:
  - ITIL問題管理の深い理解
  - 分析的思考能力
  - プロジェクト管理スキル

#### 問題アナリスト
- **責任**:
  - 根本原因分析の実施
  - 解決策の開発と文書化
  - KEDB記事の作成
  - 技術チームとの調整
- **権限**:
  - システムログへのアクセス
  - テスト環境での検証
  - 専門家への相談
- **必要スキル**:
  - 技術的専門知識
  - 問題分析手法の理解
  - 文書作成能力

#### プロセスオーナー
- **責任**:
  - プロセス設計と最適化
  - ポリシーと手順の維持
  - ステークホルダー管理
  - 継続的改善の推進
- **権限**:
  - プロセス変更の最終承認
  - ツールと技術の選定
  - 予算管理
- **必要スキル**:
  - ビジネスプロセス管理
  - 変更管理
  - コミュニケーション能力

#### 技術専門家（SME）
- **責任**:
  - 専門分野での技術支援
  - 複雑な問題の調査協力
  - 解決策の技術的検証
  - ナレッジ共有
- **権限**:
  - 専門システムへの詳細アクセス
  - 技術的推奨事項の提供
- **必要スキル**:
  - 深い技術的専門知識
  - トラブルシューティング能力
  - 知識移転スキル
{% endif %}

### 6.2 RACIマトリクス

| 活動 | 問題アナリスト | 問題マネージャー | 技術専門家 | プロセスオーナー |
|------|---------------|-----------------|------------|-----------------|
| 問題の識別 | R | A | C | I |
| 問題レコード作成 | R | A | I | I |
| 優先度設定 | R | A | C | I |
| RCA実施 | R | C | C | I |
| 回避策開発 | R | A | C | I |
| KEDB登録 | R | A | I | I |
| 解決策設計 | C | A | R | I |
| 変更要求作成 | R | A | C | I |
| 問題クローズ | R | A | I | I |
| プロセス改善 | C | R | C | A |

*R: Responsible（実行責任）、A: Accountable（説明責任）、C: Consulted（相談）、I: Informed（情報共有）*

---

## 7. ワークフロー設計

### 7.1 問題管理ワークフロー

{% for stage in workflow_stages %}
#### {{ stage.stage }}
- **活動**: {{ stage.activities | join(', ') }}
- **成果物**: {{ stage.outputs | join(', ') }}

{% endfor %}

### 7.2 状態遷移

```
[新規] → [調査中] → [既知エラー] → [解決待ち] → [解決済み] → [クローズ]
  ↓         ↓           ↓              ↓
[キャンセル] ←─────────────────────────┘
```

### 7.3 自動化ルール

| トリガー | 条件 | アクション |
|----------|------|-----------|
| インシデント傾向検出 | 同一症状5件/週 | 問題レコード自動作成 |
| 長期未解決 | 30日間進捗なし | エスカレーション通知 |
| 解決策実装 | 関連RFC完了 | 問題ステータス更新 |
| KEDB参照増加 | 参照数10回/日 | 優先度見直しアラート |

---

## 8. エスカレーション

### 8.1 エスカレーションマトリクス

{% if escalation_matrix %}
{{ escalation_matrix }}
{% else %}
| 問題優先度 | レベル1 | レベル2 | レベル3 |
|-----------|---------|---------|---------|
| Critical | 問題アナリスト | 問題マネージャー | IT部門長 |
| High | 問題アナリスト | 問題マネージャー | サービスオーナー |
| Medium | 問題アナリスト | シニアアナリスト | 問題マネージャー |
| Low | 問題アナリスト | シニアアナリスト | - |

### 8.2 エスカレーション基準

| トリガー | タイミング | エスカレーション先 |
|----------|-----------|-------------------|
| 解決期限超過リスク | 期限の75%経過 | 次レベル |
| 技術的複雑性 | 専門知識不足判明時 | 技術専門家 |
| ビジネス影響拡大 | 影響範囲拡大確認時 | ビジネス部門 |
| ベンダー関与必要 | 製品不具合疑い | ベンダーサポート |
| リソース不足 | 必要リソース確保困難 | 問題マネージャー |
{% endif %}

---

## 9. KPIとメトリクス

### 9.1 主要KPI

{% for kpi in kpi_metrics %}
#### {{ kpi.name }}
- **説明**: {{ kpi.description }}
- **目標値**: {{ kpi.target }}
- **測定頻度**: {{ kpi.measurement }}

{% endfor %}

### 9.2 運用メトリクス

| メトリクス | 説明 | 計算方法 | 利用目的 |
|-----------|------|----------|----------|
| 問題バックログ | 未解決問題の総数 | オープン問題数 | ワークロード管理 |
| 平均調査時間 | RCA完了までの時間 | 総調査時間/問題数 | 効率性評価 |
| エスカレーション率 | エスカレーションされた割合 | エスカレーション数/総問題数 | スキルギャップ分析 |
| 変更成功率 | 問題解決のための変更成功率 | 成功変更数/総変更数 | 解決策品質評価 |

### 9.3 ダッシュボード設計

```
┌─────────────────────────────────────────┐
│　　　　　問題管理ダッシュボード　　　　　　│
├─────────────┬─────────────┬─────────────┤
│ オープン問題 │ 今月解決   │ KEDB登録    │
│    45件     │   12件     │   8件       │
├─────────────┴─────────────┴─────────────┤
│　　　　　優先度別問題分布　　　　　　　　　│
│ Critical: 2  High: 8  Medium: 20  Low: 15│
├─────────────────────────────────────────┤
│　　　　　　RCA進捗状況　　　　　　　　　　│
│ 完了: 65%  実施中: 25%  未着手: 10%     │
├─────────────────────────────────────────┤
│　　　　月次トレンド（新規vs解決）　　　　　│
│              [グラフ表示]                │
└─────────────────────────────────────────┘
```

---

## 10. 他プロセスとの連携

### 10.1 インシデント管理との連携

{% if integration_points %}
{% for integration in integration_points %}
{% if integration.process == "インシデント管理" %}
{{ integration.description }}
{% endif %}
{% endfor %}
{% else %}
**インシデント→問題:**
- トレンド分析による問題の特定
- 重大インシデントからの問題起票
- インシデント解決情報の活用

**問題→インシデント:**
- KEDB情報の提供
- 回避策の共有
- 関連インシデントの自動リンク

**共有情報:**
- インシデント履歴データ
- 影響を受けるCI情報
- 解決策と回避策
- ユーザー影響情報
{% endif %}

### 10.2 変更管理との連携

**問題→変更:**
- RFC（変更要求）の作成
- 変更の影響分析情報提供
- 緊急変更の正当化

**変更→問題:**
- 変更実装結果のフィードバック
- 変更失敗時の問題分析
- 予防的変更の提案

### 10.3 CMDB/資産管理との連携

**活用情報:**
- CI関係性マップ
- CI変更履歴
- ビジネスサービス影響分析
- 技術的依存関係

**更新情報:**
- 問題に関連するCI状態
- 既知エラーのCI関連付け
- CI脆弱性情報

### 10.4 ナレッジ管理との連携

**問題→ナレッジ:**
- 解決策の文書化
- ベストプラクティスの共有
- レッスンラーンドの記録
- FAQ更新

**ナレッジ→問題:**
- 過去の類似問題参照
- 解決策パターンの適用
- 専門知識の活用

### 10.5 可用性管理との連携

**相互連携:**
- サービス停止時間分析
- 単一障害点（SPOF）の特定
- 可用性改善提案
- SLA違反の根本原因分析

---

## 付録

### A. テンプレートとツール

1. **問題レコードテンプレート**
2. **RCA報告書テンプレート**
3. **KEDB記事テンプレート**
4. **問題レビュー会議アジェンダ**
5. **月次問題管理レポート**

### B. RCA技法詳細

1. **5 Whys実施ガイド**
2. **フィッシュボーン図作成手順**
3. **タイムライン分析ワークシート**
4. **Kepner-Tregoe問題分析フォーム**

### C. ベストプラクティス

1. **効果的な問題記述の書き方**
2. **根本原因の検証方法**
3. **KEDB記事の品質基準**
4. **プロアクティブ問題管理の実践**

### D. 用語集

| 用語 | 定義 |
|------|------|
| 問題 | 一つ以上のインシデントの根本原因 |
| 既知エラー | 根本原因と回避策が特定された問題 |
| 根本原因 | 問題の最も基本的な原因 |
| 回避策 | 問題の悪影響を軽減する一時的な方法 |
| KEDB | Known Error Database（既知エラーデータベース） |
| RCA | Root Cause Analysis（根本原因分析） |

### E. 変更履歴

| バージョン | 日付 | 変更内容 | 変更者 |
|------------|------|----------|--------|
| {{ version }} | {{ created_date | date_format }} | 初版作成 | {{ author.name }} |